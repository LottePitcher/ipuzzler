{"version":3,"sources":["webpack://webpax/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://webpax/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://webpax/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://webpax/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://webpax/./node_modules/@babel/runtime/helpers/construct.js","webpack://webpax/./node_modules/@babel/runtime/helpers/createClass.js","webpack://webpax/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://webpax/./node_modules/@babel/runtime/helpers/inherits.js","webpack://webpax/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://webpax/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://webpax/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://webpax/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://webpax/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://webpax/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://webpax/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://webpax/./node_modules/@babel/runtime/helpers/typeof.js","webpack://webpax/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://webpax/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://webpax/webpack/bootstrap","webpack://webpax/webpack/runtime/compat get default export","webpack://webpax/webpack/runtime/define property getters","webpack://webpax/webpack/runtime/hasOwnProperty shorthand","webpack://webpax/webpack/runtime/publicPath","webpack://webpax/./src/puzzle.js","webpack://webpax/./src/clue.js","webpack://webpax/./src/position.js","webpack://webpax/./src/cell.js","webpack://webpax/./src/parser.js","webpack://webpax/./src/renderer.js","webpack://webpax/./src/ipuzzler.js","webpack://webpax/./src/ipuzzler.scss"],"names":["module","exports","arr","len","length","i","arr2","Array","isArray","self","ReferenceError","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Function","bind","prototype","arguments","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","value","fn","toString","call","indexOf","sham","Proxy","Date","e","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","obj","arrayLikeToArray","minLen","n","slice","name","from","test","isNativeFunction","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","this","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","d","definition","prop","hasOwnProperty","Puzzle","cells","clues","forEach","cell","puzzle","focusedCell","direction","number","across","down","row","col","setFocusToCell","clueNumber","clueDirection","clue","setFocusToClue","setValue","advanceFocus","hasInput","isBirectional","switchDirection","focusedClue","flat","clearHighlight","allClues","addHighlight","index","setCellValue","retreatFocus","nextCell","pos","position","getCell","concat","filter","Clue","ipuzClueData","parseInt","text","enumeration","continuations","continued","map","c","continuation","toLowerCase","root","isClueBirectional","String","getContinuationLabel","join","isActive","allCells","Position","grid","Cell","ipuzCellData","style","previous","NaN","barred","toUpperCase","Parser","ipuzData","ipuzCells","ipuzCell","cluesFromAcross","Across","toClueList","cluesFromDown","Down","findCellForClue","findCellList","find","previousCell","isInside","isEndOfRange","increment","Renderer","shadowDom","dom","spans","inputs","labels","clueListItems","tagName","attributes","element","document","createElement","entries","setAttribute","line","span","input","focus","blur","classList","add","remove","item","html","className","label","innerHTML","appendChild","Math","random","fromCharCode","floor","gridSize","inputFontSize","ceil","width","fontSize","labelFontSize","window","innerWidth","cellSize","min","height","innerText","trim","replace","title","id","section","heading","list","elementId","link","getLabel","insertBefore","firstChild","createClueEnumerationSpan","div","css","gridTemplate","createCellSpan","createClueList","offsetWidth","offsetHeight","recalculateFontSizes","IPuzzler","shadow","attachShadow","mode","event","addEventListener","resize","url","fetch","then","response","json","init","parse","renderer","render","getAttribute","load","oldValue","newValue","preventDefault","listItem","composedPath","closest","focusClue","update","code","moveFocus","backspace","clearFocus","setFocus","HTMLElement","customElements","define"],"mappings":"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","file":"js/ipuzzler.js","sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"\";","export class Puzzle {\r\n    constructor(cells, clues) {\r\n        this.cells = cells;\r\n        this.cells.forEach(cell => cell.puzzle = this);\r\n        this.clues = clues;\r\n        this.focusedCell = null;\r\n        this.direction = 'across';\r\n    }\r\n\r\n    isClueBirectional(number) {\r\n        return (this.clues.across[number] && this.clues.down[number]);\r\n    }\r\n\r\n    /** Returns all the clues for this puzzle in a single array. Across, then down. Array is zero-based and array indexes do not match clue numbers. */\r\n    get allClues() {\r\n        return this.clues.across.concat(this.clues.down).filter(clue => clue);\r\n    }\r\n\r\n    switchDirection() {\r\n        return (this.direction == 'across' ? this.direction = 'down' : this.direction = 'across');\r\n    }\r\n\r\n    get width() { return this.cells[0].length; }\r\n    get height() { return this.cells.length }\r\n\r\n    setFocus(row, col) {\r\n        this.setFocusToCell(this.cells[row][col]);\r\n    }\r\n\r\n    focusClue(clueNumber, clueDirection) {\r\n        let clue = this.clues[clueDirection][clueNumber];\r\n        this.setFocusToClue(clue);\r\n    }\r\n\r\n    setCellValue(value) {\r\n        if (this.focusedCell) {\r\n            this.focusedCell.setValue(value);\r\n            if (value) this.advanceFocus(this.direction);\r\n        }\r\n    }\r\n    setFocusToClue(clue) {\r\n        this.direction = clue.direction;\r\n        this.setFocusToCell(clue.cells[0]);\r\n    }\r\n\r\n    setFocusToCell(cell) {\r\n        if (cell && cell.hasInput) {\r\n            if (this.focusedCell == cell) {\r\n                if (cell.isBirectional) this.switchDirection();\r\n            } else {\r\n                this.focusedCell = cell;\r\n                if (!cell.clues[this.direction]) this.switchDirection();\r\n            }\r\n            this.focusedCell = cell;\r\n            this.focusedClue = cell.clues[this.direction];\r\n            this.cells.flat().forEach(cell => cell.clearHighlight());\r\n            this.allClues.forEach(clue => clue.clearHighlight());\r\n            this.focusedClue.addHighlight();\r\n        }\r\n    }\r\n\r\n    getCell(row, col) {\r\n        if (row < 0 || row >= this.cells.length) return null;\r\n        if (col < 0 || col >= this.cells[row].length) return null;\r\n        return (this.cells[row][col]);\r\n    }\r\n\r\n    advanceFocus(direction) {\r\n        let clue = this.focusedCell.clues[direction];\r\n        let index = clue.cells.indexOf(this.focusedCell) + 1;\r\n        if (index < clue.cells.length) {\r\n            this.setFocusToCell(clue.cells[index])\r\n        } else if (clue.next) {\r\n            this.setFocusToClue(clue.next);\r\n        }\r\n    }\r\n\r\n    retreatFocus(direction) {\r\n        let clue = this.focusedCell.clues[direction];\r\n        if (clue) {\r\n            let index = clue.cells.indexOf(this.focusedCell) - 1;\r\n            if (index >= 0) this.setFocusToCell(clue.cells[index]);\r\n        }\r\n    }\r\n\r\n    backspace() {\r\n        this.setCellValue(\"\");\r\n        this.retreatFocus(this.direction);\r\n    }\r\n\r\n    clearFocus() {\r\n        this.focusedCell = null;\r\n        this.focusedClue = null;\r\n        this.cells.flat().forEach(cell => cell.clearHighlight());\r\n        this.allClues.forEach(clue => clue.clearHighlight());\r\n    }\r\n\r\n    moveFocus(direction) {\r\n        let nextCell;\r\n        let pos = this.focusedCell?.position;\r\n        if (!pos) return;\r\n        switch (direction) {\r\n            case \"up\": nextCell = this.getCell(pos.row - 1, pos.col); break;\r\n            case \"down\": nextCell = this.getCell(pos.row + 1, pos.col); break;\r\n            case \"left\": nextCell = this.getCell(pos.row, pos.col - 1); break;\r\n            case \"right\": nextCell = this.getCell(pos.row, pos.col + 1); break;\r\n        }\r\n        this.setFocusToCell(nextCell);\r\n    }\r\n}","export class Clue {\r\n    constructor(ipuzClueData, direction) {\r\n        this.direction = direction;\r\n        this.number = parseInt(ipuzClueData.number);\r\n        this.text = ipuzClueData.clue;\r\n        this.enumeration = ipuzClueData.enumeration;\r\n        this.cells = [];\r\n        this.continuations = [];\r\n        if (ipuzClueData.continued && ipuzClueData.continued.map) {\r\n            this.continuations = ipuzClueData.continued.map(c => {\r\n                let continuation = new Clue(c, c.direction.toLowerCase());\r\n                continuation.text = `See ${ipuzClueData.number}`;\r\n                if (continuation.direction != this.direction) continuation.text += \" \" + this.direction;\r\n                continuation.root = this;\r\n                return continuation\r\n            });\r\n            this.next = this.continuations[0];\r\n            for (var i = 0; i < this.continuations.length - 1; i++) this.continuations[i].next = this.continuations[i + 1];\r\n        }\r\n    }\r\n\r\n    getContinuationLabel(puzzle) {\r\n        return (this.number + (puzzle.isClueBirectional(this.number) ? this.direction[0] : \"\"));\r\n    }\r\n\r\n    getLabel(puzzle) {\r\n        return [String(this.number)].concat(this.continuations.map(c => c.getContinuationLabel(puzzle))).join(\",\");\r\n    }\r\n\r\n    get elementId() {\r\n        return `clue-${this.number}-${this.direction}`;\r\n    }\r\n\r\n    get allCells() {\r\n        let root = (this.root ?? this);\r\n        return root.cells.concat(root.continuations.map(c => c.cells).flat());\r\n    }\r\n    get allClues() {\r\n        let root = (this.root ?? this);\r\n        return [root].concat(root.continuations);\r\n    }\r\n\r\n    addHighlight() {\r\n        this.allClues.forEach(clue => clue.isActive = true);\r\n        this.allCells.forEach(cell => cell.addHighlight());\r\n    }\r\n\r\n    clearHighlight() {\r\n        this.allClues.forEach(clue => clue.isActive = false);\r\n    }\r\n\r\n    toClueList() {\r\n        return [this].concat(this.continuations);\r\n    }\r\n}","export class Position {\r\n    constructor(row, col) {\r\n        this.row = row;\r\n        this.col = col;\r\n    }\r\n\r\n    isInside(grid) {\r\n        if (this.row < 0 || this.row >= grid.length) return (false);\r\n        if (this.col < 0 || this.col >= grid[this.row].length) return (false);\r\n        return (true);\r\n    }\r\n\r\n    increment(direction) {\r\n        switch (direction) {\r\n            case 'down':\r\n                return new Position(this.row + 1, this.col);\r\n            case 'across':\r\n                return new Position(this.row, this.col + 1);\r\n        }\r\n    }\r\n}","import {Position} from \"./position\";\r\n\r\nexport class Cell {\r\n    constructor(ipuzCellData, row, col) {\r\n        this.isActive = false;\r\n        this.style = \"\";\r\n        this.position = new Position(row, col);\r\n        this.previous = {};\r\n        this.next = {};\r\n        this.clues = {};\r\n        this.value = \"\";\r\n        if (ipuzCellData === null) {\r\n            this.style = \"blank\";\r\n        } else {\r\n            if (typeof (ipuzCellData.cell) === \"number\") {\r\n                this.number = ipuzCellData.cell;\r\n            } else if (typeof (ipuzCellData) === \"number\") {\r\n                this.number = ipuzCellData;\r\n            } else {\r\n                this.number = NaN;\r\n            }\r\n            if (ipuzCellData.style) {\r\n                switch (ipuzCellData.style.barred) {\r\n                    case \"T\":\r\n                        this.style = \"barred-top\";\r\n                        break;\r\n                    case \"L\":\r\n                        this.style = \"barred-left\";\r\n                        break;\r\n                    case \"TL\":\r\n                        this.style = \"barred-top barred-left\";\r\n                        break;\r\n                }\r\n            } else if (ipuzCellData == \"#\") {\r\n                this.style = \"block\";\r\n            }\r\n        }\r\n    }\r\n\r\n    setValue(value) {\r\n        this.value = (value && value.toUpperCase ? value.toUpperCase() : \"\");\r\n    }\r\n\r\n    get isBirectional() {\r\n        return this.clues[\"across\"] && this.clues[\"down\"];\r\n    }\r\n\r\n    get hasInput() {\r\n        return !/bl(an|oc)k/.test(this.style);\r\n    }\r\n\r\n    addHighlight() {\r\n        this.isActive = true;\r\n    }\r\n\r\n    clearHighlight() {\r\n        this.isActive = false;\r\n    }\r\n\r\n    isEndOfRange(direction) {\r\n        if (!this.hasInput) return (true);\r\n        if (direction == \"across\" && this.previous.across && /left/.test(this.style)) return (true);\r\n        if (direction == \"down\" && this.previous.down && /top/.test(this.style)) return (true);\r\n        return (false);\r\n    }\r\n}","import { Puzzle} from './puzzle.js';\r\nimport {Clue} from \"./clue\";\r\nimport {Cell} from \"./cell\";\r\n\r\nexport class Parser {\r\n    static parse(ipuzData) {\r\n\r\n        let cells = ipuzData.puzzle.map((ipuzCells, row) => ipuzCells.map((ipuzCell, col) => new Cell(ipuzCell, row, col)));\r\n\r\n        let cluesFromAcross = (Array.isArray(ipuzData.clues.Across) ? ipuzData.clues.Across : []);\r\n        cluesFromAcross = cluesFromAcross.map(c => new Clue(c, \"across\").toClueList()).flat();\r\n        \r\n        let cluesFromDown = (Array.isArray(ipuzData.clues.Down) ? ipuzData.clues.Down : []);\r\n        cluesFromDown = cluesFromDown.map(c => new Clue(c, \"down\").toClueList()).flat();\r\n\r\n        const clues = { across: [], down: [] };\r\n        cluesFromAcross.concat(cluesFromDown).forEach(clue => {\r\n            let cell = Parser.findCellForClue(cells, clue);\r\n            clue.position = cell.position;\r\n            clue.cells = Parser.findCellList(cells, clue.position, clue.direction);\r\n            clue.cells.forEach(cell => cell.clues[clue.direction] = clue);\r\n            clues[clue.direction][clue.number] = clue;\r\n        });\r\n\r\n        return new Puzzle(cells, clues);\r\n    }\r\n\r\n    static findCellForClue(cells, clue) {\r\n        return cells.flat().find(cell => cell.number == clue.number);\r\n    }\r\n\r\n    static findCellList(cells, position, direction, previousCell) {\r\n        if (! position.isInside(cells)) return [];\r\n        var cell = cells[position.row][position.col];        \r\n        cell.previous[direction] = previousCell;\r\n        if (cell.isEndOfRange(direction)) return [];\r\n        if (previousCell) previousCell.next[direction] = cell;\r\n        return ([cell].concat(Parser.findCellList(cells, position.increment(direction), direction, cell)));\r\n    };\r\n}","export class Renderer {\r\n    constructor(shadowDom) {\r\n        this.dom = shadowDom;\r\n        this.spans = [];\r\n        this.inputs = [];\r\n        this.labels = [];\r\n        this.clueListItems = [];\r\n        this.grid = null;\r\n    }\r\n\r\n    html(tagName, attributes) {\r\n        const element = document.createElement(tagName);\r\n        for (const [key, value] of Object.entries(attributes || {})) element.setAttribute(key, value);\r\n        return element;\r\n    }\r\n\r\n    update(puzzle) {\r\n        this.spans.forEach((line, row) => line.forEach((span, col) => {\r\n            let cell = puzzle.cells[row][col];\r\n            if (cell == puzzle.focusedCell) {\r\n                span.input.focus();\r\n            } else if (span && span.input) {\r\n                span.input.blur();\r\n            }\r\n            if (span.input) span.input.value = cell.value;\r\n            if (cell.isActive) {\r\n                span.classList.add(\"highlighted\");\r\n            } else {\r\n                span.classList.remove(\"highlighted\");\r\n            }            \r\n        }));\r\n        this.clueListItems.forEach(item => {\r\n            if (item.clue.isActive) {\r\n                if (item.clue.root) {\r\n                    item.classList.add(\"halflighted\");\r\n                } else {\r\n                    item.classList.add(\"highlighted\");\r\n                }\r\n            } else {\r\n                item.classList.remove(\"highlighted\");\r\n                item.classList.remove(\"halflighted\");\r\n            }\r\n        });\r\n    }\r\n\r\n    createCellSpan(cell, row, col) {\r\n        let span = this.html('span');\r\n        if (cell.style) span.className = cell.style;\r\n        if (cell.number) {\r\n            let label = this.html('label');\r\n            label.innerHTML = cell.number;\r\n            span.appendChild(label);\r\n            this.labels.push(label);\r\n        }\r\n        if (cell.hasInput) {\r\n            let value = (Math.random() > 0.5 ? String.fromCharCode(65 + Math.floor(Math.random() * 26)) : \"\");\r\n            let input = this.html('input', { \"data-row\": row, \"data-col\": col, \"value\":  value });\r\n            span.appendChild(input);\r\n            span.input = input;\r\n            this.inputs.push(input);\r\n        }\r\n        return (span);\r\n    }\r\n\r\n    recalculateFontSizes(gridSize, puzzle) {        \r\n        var inputFontSize = (Math.ceil(gridSize / (1.8 * puzzle.width)));\r\n        // for sizes just under 16, we bump the size to 16px to prevent zooming on iOS when input is focused.\r\n        if (inputFontSize > 10 && inputFontSize < 16) inputFontSize = 16;        \r\n        this.inputs.forEach(input => input.style.fontSize = inputFontSize + \"px\");\r\n        var labelFontSize = (Math.ceil(gridSize / (4 * puzzle.width)));\r\n        this.labels.forEach(label => label.style.fontSize = labelFontSize + \"px\");\r\n        \r\n        if (window.innerWidth > 768) {\r\n            let cellSize = Math.min(480 / puzzle.width, 32);\r\n            this.grid.style.width = (puzzle.width * cellSize) + \"px\";\r\n            this.grid.style.height = (puzzle.height * cellSize) + \"px\";\r\n        } else {\r\n            let width = (window.innerWidth - 10);\r\n            this.grid.style.width = width + \"px\";\r\n            let height = Math.floor((puzzle.height / puzzle.width) * width);\r\n            this.grid.style.height = height + \"px\";\r\n        }\r\n    }\r\n\r\n    createClueEnumerationSpan(clue) {\r\n        let span = this.html('span');\r\n        span.innerText = `(${clue.enumeration.trim().replace(/ /g, \",\")})`;\r\n        return (span);\r\n    }\r\n\r\n    createClueList(puzzle, title) {\r\n        let id = `${title.toLowerCase()}-clue-list`;\r\n        let section = this.html('section', { 'class': 'puzzle-clue-list', 'id': id });\r\n        let heading = this.html('h2');\r\n        heading.innerHTML = title;\r\n        section.appendChild(heading);\r\n\r\n        let list = this.html('ol');\r\n        puzzle.clues[title.toLowerCase()].forEach(clue => {\r\n            let item = this.html('li', { id: clue.elementId, 'data-clue-number': clue.number, 'data-clue-direction': clue.direction });\r\n            let link = this.html('a');\r\n            link.innerText = clue.text;\r\n            let label = this.html('label');\r\n            label.innerText = clue.getLabel(puzzle);\r\n            link.insertBefore(label, link.firstChild);\r\n            if (clue.enumeration) link.appendChild(this.createClueEnumerationSpan(clue));\r\n            item.appendChild(link);\r\n            item.clue = clue;\r\n            this.clueListItems.push(item);\r\n            list.appendChild(item);\r\n        });\r\n        section.appendChild(list);\r\n        return section;\r\n    }\r\n\r\n    render(puzzle) {\r\n        const div = this.html('div', { 'class': 'ipuzzler' });\r\n        this.dom.appendChild(div);\r\n\r\n        const css = this.html('link', { 'type': 'text/css', 'href': 'css/ipuzzler.css', 'rel': 'stylesheet' });\r\n        div.appendChild(css);\r\n\r\n        this.grid = this.html('div', { 'class': 'puzzle-grid' });\r\n        this.grid.style.gridTemplate = `repeat(${puzzle.height}, 1fr) / repeat(${puzzle.width}, 1fr)`;        \r\n\r\n        div.appendChild(this.grid);\r\n\r\n        this.spans = puzzle.cells.map((cells, row) => cells.map((cell, col) => {\r\n            let span = this.createCellSpan(cell, row, col);\r\n            this.grid.appendChild(span);\r\n            return span;\r\n        }));\r\n        div.appendChild(this.createClueList(puzzle, \"Across\"));\r\n        div.appendChild(this.createClueList(puzzle, \"Down\"));\r\n    }\r\n\r\n    resize(puzzle) {\r\n        let gridSize = Math.min(this.grid.offsetWidth, this.grid.offsetHeight);\r\n        this.recalculateFontSizes(gridSize, puzzle);\r\n    }\r\n} \r\n","import { Puzzle } from './puzzle.js';\r\nimport { Parser } from './parser.js';\r\nimport { Renderer } from './renderer.js';\r\nimport { Clue } from \"./clue\";\r\n\r\nexport class IPuzzler extends HTMLElement {\r\n\r\n    constructor() {\r\n        super();\r\n        this.shadow = this.attachShadow({ mode: 'open' });\r\n        [\"mousedown\", \"keydown\", \"click\"].forEach(event => this.addEventListener(event, this[event]));\r\n        window.addEventListener(\"resize\", this.resize.bind(this));\r\n    }\r\n\r\n    load(url) {\r\n        fetch(url).then(response => response.json()).then(json => this.init(json));\r\n    }\r\n\r\n    init(json) {\r\n        this.puzzle = Parser.parse(json);\r\n        this.renderer = new Renderer(this.shadow);\r\n        this.renderer.render(this.puzzle);\r\n        this.resize();\r\n    }\r\n\r\n    connectedCallback() {\r\n        let url = this.getAttribute(\"src\");\r\n        if (url) this.load(url);\r\n    }\r\n\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case 'url': this.load(newValue); break;\r\n        }\r\n    }\r\n\r\n    resize(event) {\r\n        if (this.renderer && typeof (this.renderer.resize) == 'function') this.renderer.resize(this.puzzle);\r\n    }\r\n\r\n    click(event) {\r\n        event.preventDefault();\r\n        let target = event.composedPath()[0];\r\n        let listItem = target.closest(\"li\");\r\n        if (listItem != null) {\r\n            let clueNumber = parseInt(listItem.getAttribute(\"data-clue-number\"));\r\n            let clueDirection = listItem.getAttribute(\"data-clue-direction\");\r\n            this.puzzle.focusClue(clueNumber, clueDirection);\r\n            this.renderer.update(this.puzzle);\r\n        }\r\n    }\r\n\r\n    keydown(event) {\r\n        event.preventDefault();\r\n        // let target = event.composedPath()[0];\r\n        let code = event.code;\r\n        switch (code) {\r\n            case \"ArrowUp\": this.puzzle.direction = \"down\"; this.puzzle.moveFocus(\"up\"); break;\r\n            case \"ArrowDown\": this.puzzle.direction = \"down\"; this.puzzle.moveFocus(\"down\"); break;\r\n            case \"ArrowLeft\": this.puzzle.direction = \"across\"; this.puzzle.moveFocus(\"left\"); break;\r\n            case \"ArrowRight\": this.puzzle.direction = \"across\"; this.puzzle.moveFocus(\"right\"); break;\r\n            case \"Backspace\": this.puzzle.backspace(); break;\r\n            case \"Delete\": this.puzzle.setCellValue(\"\"); break;\r\n            case \"Escape\": this.puzzle.clearFocus(); break;\r\n        }\r\n        if (/^[a-z]$/i.test(event.key)) this.puzzle.setCellValue(event.key);\r\n        this.renderer.update(this.puzzle);\r\n    }\r\n\r\n    mousedown(event) {\r\n        event.preventDefault();\r\n        let target = event.composedPath()[0];\r\n        switch (target.tagName) {\r\n            case 'INPUT':\r\n                let row = target.getAttribute(\"data-row\");\r\n                let col = target.getAttribute(\"data-col\");\r\n                this.puzzle.setFocus(row, col);\r\n                break;\r\n        }\r\n        this.renderer.update(this.puzzle);\r\n        return (false);\r\n    }\r\n\r\n    static get observedAttributes() {\r\n        return ['url'];\r\n    }\r\n\r\n}\r\n\r\ncustomElements.define(\"ipuzzler-puzzle\", IPuzzler);","export default __webpack_public_path__ + \"css/ipuzzler.css\";"],"sourceRoot":""}
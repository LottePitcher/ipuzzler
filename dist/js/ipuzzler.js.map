{"version":3,"sources":["webpack://webpax/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://webpax/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://webpax/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://webpax/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://webpax/./node_modules/@babel/runtime/helpers/construct.js","webpack://webpax/./node_modules/@babel/runtime/helpers/createClass.js","webpack://webpax/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://webpax/./node_modules/@babel/runtime/helpers/inherits.js","webpack://webpax/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://webpax/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://webpax/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://webpax/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://webpax/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://webpax/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://webpax/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://webpax/./node_modules/@babel/runtime/helpers/typeof.js","webpack://webpax/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://webpax/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://webpax/webpack/bootstrap","webpack://webpax/webpack/runtime/compat get default export","webpack://webpax/webpack/runtime/define property getters","webpack://webpax/webpack/runtime/hasOwnProperty shorthand","webpack://webpax/webpack/runtime/publicPath","webpack://webpax/./src/puzzle.js","webpack://webpax/./src/parser.js","webpack://webpax/./src/renderer.js","webpack://webpax/./src/ipuzzler.js","webpack://webpax/./src/ipuzzler.scss"],"names":["module","exports","arr","len","length","i","arr2","Array","isArray","self","ReferenceError","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Function","bind","prototype","arguments","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","value","fn","toString","call","indexOf","sham","Proxy","Date","e","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","obj","arrayLikeToArray","minLen","n","slice","name","from","test","isNativeFunction","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","this","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","d","definition","prop","hasOwnProperty","Clue","ipuzClueData","direction","number","parseInt","text","clue","enumeration","cells","continuations","continued","map","c","continuation","toLowerCase","root","concat","Position","row","col","grid","Cell","ipuzCellData","style","position","previous","clues","cell","NaN","barred","across","down","Puzzle","x","y","Parser","ipuzData","puzzle","ipuzCells","ipuzCell","cluesFromAcross","Across","toClueList","flat","cluesFromDown","Down","forEach","findCellForClue","findCellList","find","previousCell","isInside","isEndOfRange","increment","Renderer","container","spans","tagName","attributes","element","document","createElement","entries","setAttribute","span","input","html","className","css","appendChild","gridTemplate","height","width","createCellSpan","IPuzzler","shadow","attachShadow","mode","addEventListener","handleClick","url","success","failure","request","XMLHttpRequest","open","onload","status","response","onerror","console","log","send","json","ipuz","JSON","parse","renderer","render","getAttribute","getJson","init","event","composedPath","setValue","update","HTMLElement","customElements","define"],"mappings":"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","file":"js/ipuzzler.js","sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"\";","export class Clue {\r\n    constructor(ipuzClueData, direction) {\r\n        this.direction = direction;\r\n        this.number = parseInt(ipuzClueData.number);\r\n        this.text = ipuzClueData.clue;\r\n        this.enumeration = ipuzClueData.enumeration;\r\n        this.cells = [];\r\n        this.continuations = [];\r\n        if (ipuzClueData.continued && ipuzClueData.continued.map) {\r\n            this.continuations = ipuzClueData.continued.map(c => { \r\n                let continuation = new Clue(c, c.direction.toLowerCase());\r\n                continuation.text = `See ${ipuzClueData.number}`;                \r\n                if (continuation.direction != this.direction) continuation.text += \" \" + this.direction;\r\n                continuation.root = this; \r\n            return continuation });\r\n            this.next = this.continuations[0];\r\n            for (var i = 0; i < this.continuations.length - 1; i++) this.continuations[i].next = this.continuations[i + 1];\r\n        }\r\n    }\r\n\r\n    toClueList() {\r\n        return [this].concat(this.continuations);\r\n    }\r\n}\r\n\r\nexport class Position {\r\n    constructor(row, col) {\r\n        this.row = row;\r\n        this.col = col;\r\n    }\r\n\r\n    isInside(grid) {\r\n        if (this.row < 0 || this.row >= grid.length) return(false);\r\n        if (this.col < 0 || this.col >= grid[this.row].length) return(false);\r\n        return(true);\r\n    }\r\n    increment(direction) {\r\n        switch(direction) { \r\n            case 'down': return new Position(this.row + 1, this.col);\r\n            case 'across': return new Position(this.row, this.col + 1);\r\n        }\r\n    }\r\n}\r\n\r\nexport class Cell {\r\n    constructor(ipuzCellData, row, col) {\r\n        this.style = \"\";\r\n        this.position = new Position(row, col);\r\n        this.previous = {};\r\n        this.next = {};\r\n        this.clues = [];\r\n        if (ipuzCellData === null) {\r\n            this.style = \"blank\";\r\n        } else {\r\n            if (typeof(ipuzCellData.cell) === \"number\") {\r\n                this.number = ipuzCellData.cell;\r\n            } else if (typeof(ipuzCellData) === \"number\") {\r\n                this.number = ipuzCellData;\r\n            } else {\r\n                this.number = NaN;\r\n            }\r\n            if (ipuzCellData.style) { \r\n                switch(ipuzCellData.style.barred) {\r\n                    case \"T\": this.style = \"barred-top\"; break;\r\n                    case \"L\": this.style = \"barred-left\"; break;\r\n                    case \"TL\": this.style = \"barred-top-left\"; break;\r\n                }\r\n            } else if (ipuzCellData == \"#\") {\r\n                this.style = \"block\";\r\n            }\r\n        }\r\n    }\r\n\r\n    isEndOfRange(direction) {\r\n        if (this.style == \"block\") return(true);\r\n        if (direction == \"across\" && this.previous.across && /left/.test(this.style)) return(true);\r\n        if (direction == \"down\" && this.previous.down && /top/.test(this.style)) return(true);\r\n        return(false);\r\n    }\r\n }\r\n\r\nexport class Puzzle {\r\n    constructor(cells, clues) {\r\n        this.cells = cells;\r\n        this.clues = clues;\r\n    }\r\n\r\n    get width() { return this.cells[0].length; }\r\n    get height() { return this.cells.length }\r\n\r\n    setValue(x,y,value) {\r\n        this.cells[y][x].value = value;\r\n    }\r\n\r\n}","import { Puzzle, Cell, Clue } from './puzzle.js';\r\n\r\nexport class Parser {\r\n    static parse(ipuzData) {\r\n\r\n        let cells = ipuzData.puzzle.map((ipuzCells, row) => ipuzCells.map((ipuzCell, col) => new Cell(ipuzCell, row, col)));\r\n\r\n        let cluesFromAcross = ipuzData.clues.Across.map(c => new Clue(c, \"across\").toClueList()).flat();\r\n        let cluesFromDown = ipuzData.clues.Down.map(c => new Clue(c, \"down\").toClueList()).flat();\r\n\r\n        const clues = { across: [], down: [] };\r\n        cluesFromAcross.concat(cluesFromDown).forEach(clue => {\r\n            let cell = Parser.findCellForClue(cells, clue);\r\n            clue.position = cell.position;\r\n            clue.cells = Parser.findCellList(cells, clue.position, clue.direction);\r\n            clue.cells.forEach(cell => cell.clues.push(clue));\r\n            clues[clue.direction][clue.number] = clue;\r\n        });\r\n\r\n        return new Puzzle(cells, clues);\r\n    }\r\n\r\n    static findCellForClue(cells, clue) {\r\n        return cells.flat().find(cell => cell.number == clue.number);\r\n    }\r\n\r\n    static findCellList(cells, position, direction, previousCell) {\r\n        if (! position.isInside(cells)) return [];\r\n        var cell = cells[position.row][position.col];        \r\n        cell.previous[direction] = previousCell;\r\n        if (cell.isEndOfRange(direction)) return [];\r\n        if (previousCell) previousCell.next[direction] = cell;\r\n        return ([cell].concat(Parser.findCellList(cells, position.increment(direction), direction, cell)));\r\n    };\r\n}","export class Renderer {\r\n    constructor(container) {\r\n        this.container = container;\r\n        this.spans = [];\r\n        this.clues = {};\r\n    }\r\n    html(tagName, attributes) {\r\n        const element = document.createElement(tagName);\r\n        for(const [key, value] of Object.entries(attributes || {})) element.setAttribute(key, value);\r\n        return element;\r\n    }\r\n\r\n    update(puzzle) {\r\n        this.spans.forEach((row, y) => row.forEach((span, x) => {\r\n            span.input.value = puzzle.cells[y][x].value;\r\n        }));\r\n    }\r\n    createCellSpan(cell, row, col) {\r\n        let span = this.html('span');\r\n        if (cell.style) span.className = cell.style;\r\n        return(span);\r\n    }\r\n\r\n    render(puzzle) {\r\n        \r\n        let css = this.html('link', { 'type': 'text/css', 'href': 'css/ipuzzler.css', 'rel': 'stylesheet'});\r\n        this.container.appendChild(css);\r\n        let grid = this.html('div', { 'class' : 'puzzle-grid' });\r\n        grid.style.gridTemplate = `repeat(${puzzle.height}, 1fr) / repeat(${puzzle.width}, 1fr)`;\r\n        this.container.appendChild(grid);\r\n        let spans = puzzle.cells.map((cells, row) => cells.map((cell, col) => {\r\n            let span = this.createCellSpan(cell, row, col);\r\n            grid.appendChild(span);\r\n            return span;\r\n        }));\r\n        // this.spans = puzzle.cells.map((row, y) => row.map((cell, x) => {\r\n        //     let span = document.createElement('span');\r\n        //     let input = document.createElement('input');\r\n        //     input.setAttribute(\"data-x\", x);\r\n        //     input.setAttribute(\"data-y\", y);\r\n        //     span.input = input;\r\n        //     span.appendChild(input);\r\n        //     grid.appendChild(span);\r\n        //     return (span);\r\n        // }));\r\n        // let acrossList = document.createElement('ul');\r\n\r\n        // this.clues.across = puzzle.clues.across.map(clue => {\r\n        //     let li = document.createElement('li');\r\n        //     li.innerHTML = clue.text;\r\n        //     acrossList.appendChild(li);\r\n        //     return (li);\r\n        // });\r\n\r\n        // let downList = document.createElement('ul');\r\n        // this.clues.down = puzzle.clues.down.map(clue => {\r\n        //     let li = document.createElement('li');\r\n        //     li.innerHTML = clue.text;\r\n        //     downList.appendChild(li);\r\n        //     return (li);\r\n        // });\r\n\r\n        // this.container.appendChild(grid);\r\n        // this.container.appendChild(acrossList);\r\n        // this.container.appendChild(downList);\r\n        // this.update(puzzle);\r\n    }\r\n\r\n}\r\n","import { Puzzle, Clue } from './puzzle.js';\r\nimport { Parser } from './parser.js';\r\nimport { Renderer } from './renderer.js';\r\n\r\nexport class IPuzzler extends HTMLElement {\r\n\r\n    constructor() {\r\n        super();\r\n        this.shadow = this.attachShadow({ mode: 'open' });\r\n        this.addEventListener(\"click\", this.handleClick);\r\n    }\r\n\r\n    getJson(url, success, failure) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', url, true);\r\n        request.onload = function () {\r\n            if (this.status >= 200 && this.status < 400) {\r\n                if (success) success(this.response);\r\n            } else {\r\n                if (failure) failure(this);\r\n            }\r\n        };\r\n        request.onerror = () => console.log(`Error occurring during getJson('${url}')`);\r\n        request.send();\r\n    }\r\n\r\n    init(json) {\r\n        const ipuz = JSON.parse(json);\r\n        this.puzzle = Parser.parse(ipuz);\r\n        this.renderer = new Renderer(this.shadow);\r\n        this.renderer.render(this.puzzle);\r\n    }\r\n\r\n    connectedCallback() {\r\n        let url = this.getAttribute(\"src\");\r\n        this.getJson(url, json => this.init(json));\r\n    }\r\n\r\n    handleClick(event) {\r\n        let input = event.composedPath()[0];\r\n        let x = input.getAttribute(\"data-x\");\r\n        let y = input.getAttribute(\"data-y\");\r\n        this.puzzle.setValue(x, y, input.value);\r\n        this.renderer.update(this.puzzle);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"ipuzzler-puzzle\", IPuzzler);","export default __webpack_public_path__ + \"css/ipuzzler.css\";"],"sourceRoot":""}